<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      .active {
        background-color: red;
      }
      #nav {
        position: fixed;
        right: 0;
      }
@keyframes a1 {
  from {
    left: 200px;
    opacity: 0;
  }
  to {
    left: 0;
    opacity: 1;
  }
}
.title {
  position: relative;
  width:400px;
}
.appear {
  animation: a1 2s;
}

    </style>
  </head>
  <body>
    <ul id="nav">
      <li><a href="#1" class="active">1111</a></li>
      <li><a href="#2">2222</a></li>
      <li><a href="#3">3333</a></li>
    </ul>
    <h1 class="title appear" id="1">1111</h1>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <h1 class="title" id="2">2222</h1>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <h1 class="title" id="3">3333</h1>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
    <p>sdfajsd fklasdfjh klajsdhfkl jhasdjkfh klasjdlfh asdjfhjklasdv</p>
  </body>

  <script>
    let titles = document.getElementsByClassName("title");
    let nav = document.querySelectorAll("#nav a");
    let s = document.documentElement;
    document.body.onscroll = () => {
      for (let i = titles.length - 1; i >= 0; i--) {
        if (titles[i].offsetTop <= s.scrollTop) {
          for (let n of nav) {
            let href = n.href.split("#")[1];
            if (href == titles[i].id) {
              n.className = "active";
            } else {
              n.className = "";
            }
          }
          break;
        }
      }
      for (let title of titles) {
        if (s.scrollTop + window.innerHeight > title.offsetTop) {
          title.className = "title appear";
        } 
      }
    };
  </script>
</html>
