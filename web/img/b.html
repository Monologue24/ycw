<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .active {
        color: red;
      }
      .title {
        background-color: blueviolet;
      }
      #nav {
        position: fixed;
        right: 20px;
      }
    </style>
  </head>
  <body>
    <ul id="nav">
      <li><a href="#1" class="active">1111</a></li>
      <li><a href="#2">2222</a></li>
      <li><a href="#3">3333</a></li>
    </ul>
    <h1 class="title" id="1">1111</h1>,m
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <h1 class="title" id="2">2222</h1>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>

    <h1 class="title" id="3">3333</h1>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
    <p>jasdfjkahsdf ahsfhalfhdlj asdkfjhasd</p>
  </body>
  <script>
    let titles = document.getElementsByClassName("title");
    let navtitle = document.querySelectorAll("#nav a");
    let toffset = [];
    for (let t of titles) {
      toffset.push(t.offsetTop);
    }
    console.log(toffset);
    document.body.onscroll = function(){
        let woffset = document.documentElement.scrollTop;
        for(let i=toffset.length-1; i>=0;i--){
            if(toffset[i]<=woffset+50){
                for(let j =0;j<navtitle.length;j++){
                    if(j==i){
                        navtitle[j].className="active"
                    }else{
                        navtitle[j].className=""
                    }
                }
                break;
            }
        }
    }
  </script>
</html>
